@model AJ.Models.db

@{
    ViewBag.Title = "Categorias";
}

@using (Html.BeginForm("Categorias", "Home",
     FormMethod.Post, new { enctype = "multipart/form-  data", id = "formAddPicture" }))
{
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.Label("Grupo", htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.DropDownList("i", new SelectList(Model.grupos, "id", "nome", 0), htmlAttributes: new { @id = "radiu" })
            <br />
            <br />
            <br />
        </div>
    </div>
    <div class="form-group">
        @Html.Label("Subgrupo", htmlAttributes: new { @class = "control-label col-md-2" })
        <div class="col-md-10">
            @Html.DropDownList("teste", new SelectList(Model.subgrupos, "id", "name", 0), htmlAttributes: new { @id = "lsgrupo" })
            <br />
            <br />
        </div>
    </div>



    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Enviar" class="btn btn-default" />
        </div>
    </div>
}


@section Scripts {






    @Scripts.Render("~/bundles/jqueryval")




    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>






    <script type="text/javascript">

       

    $(document).ready(function () {




     

        $("#radiu").selectmenu({
            change: function (event, data) {

                alert("ok")

            }
        });

        $("#lsgrupo").selectmenu({
            change: function (event, data) {
                var h = data.item.value;
                alert(data.item.value)

                  var url = "/Home/Categorias";

    $.post(url, { i: h}, function (data) {

        alert(data)
                });





                var v = data.item.value;
                var i = 0;
                var lsb = lsubGroups(v);



            }
        });







    });

    </script>








}

